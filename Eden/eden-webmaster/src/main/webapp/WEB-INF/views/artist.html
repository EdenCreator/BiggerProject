<!DOCTYPE html>
<html lang="en" class="app">
<head>
    <meta charset="utf-8"/>
    <title>Artist</title>
    <meta name="description"
          content="app, web app, responsive, admin dashboard, admin, flat, flat ui, ui kit, off screen nav"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
    <link rel="stylesheet" href="{$baseUrl}/static/scripts/libs/jPlayer/jplayer.flat.css" type="text/css"/>
    <link rel="stylesheet" href="{$baseUrl}/static/css/bootstrap.css" type="text/css"/>
    <link rel="stylesheet" href="{$baseUrl}/static/css/animate.css" type="text/css"/>
    <link rel="stylesheet" href="{$baseUrl}/static/css/font-awesome.min.css" type="text/css"/>
    <link rel="stylesheet" href="{$baseUrl}/static/css/simple-line-icons.css" type="text/css"/>
    <link rel="stylesheet" href="{$baseUrl}/static/css/font.css" type="text/css"/>
    <link rel="stylesheet" href="{$baseUrl}/static/css/app.css" type="text/css"/>
    <link rel="stylesheet" href="{$baseUrl}/static/scripts/libs/datatables/dataTables.bootstrap.min.css" type="text/css"/>
    <link rel="stylesheet" href="{$baseUrl}/static/scripts/libs/cropper/cropper.min.css">


    <link rel="stylesheet" href="{$baseUrl}/static/css/loading/ball-clip-rotate-multiple.css">

    <script>
        var baseUrl = '{$baseUrl}';
    </script>
</head>
<body class="">


<section class="vbox">

    <!--上侧导航 up-->
    <header class="bg-white-only header header-md navbar navbar-fixed-top-xs">
        <div class="navbar-header aside bg-info ">
            <a class="btn btn-link visible-xs" data-toggle="class:nav-off-screen,open" data-target="#nav,html">
                <i class="icon-list"></i>
            </a>
            <a href="index.html" data-bjax class="navbar-brand text-lt">
                <i class="icon-earphones"></i>
                <span class="hidden-nav-xs m-l-sm">EDEN</span>
            </a>
            <a class="btn btn-link visible-xs" data-toggle="dropdown" data-target=".user">
                <i class="icon-settings"></i>
            </a>
        </div>
        <ul class="nav navbar-nav hidden-xs">
            <li>
                <a href="#nav,.navbar-header" data-toggle="class:nav-xs,nav-xs" class="text-muted ">
                    <i class="fa fa-indent text"></i>
                    <i class="fa fa-dedent  text-active"></i>
                </a>
            </li>
        </ul>
        <form class="navbar-form navbar-left input-s-lg m-t m-l-n-xs hidden-xs" role="search">
            <div class="form-group">
                <div class="input-group">
            <span class="input-group-btn">
              <button type="submit" class="btn btn-sm bg-white btn-icon rounded"><i class="fa fa-search"></i></button>
            </span>
                    <input type="text" class="form-control input-sm no-border rounded"
                           placeholder="Search songs, albums...">
                </div>
            </div>
        </form>
    </header>
    <section>
        <section class="hbox stretch">
            <!-- .aside left 左边导航栏 -->
            <aside class="bg-black dk  aside hidden-print" id="nav">
                <section class="vbox">
                    <section class="w-f-md scrollable">
                        <div class="slim-scroll" data-height="auto" data-disable-fade-out="true" data-distance="0"
                             data-size="10px" data-railOpacity="0.2">


                            <!-- nav -->
                            <nav class="nav-primary hidden-xs">


                                <ul class="nav bg clearfix">
                                    <li>
                                        <a href="/statistics" data-bjax>
                                            <i class="icon-disc icon text-success"></i>
                                            <span class="font-bold">数据统计</span>
                                        </a>
                                    </li>
                                    <li class="m-b hidden-nav-xs"></li>
                                </ul>

                                <ul class="nav" data-ride="collapse">
                                    <li>
                                        <a href="javascript:void(0);" class="auto">
                                            <span class="pull-right text-muted">
                                              <i class="fa fa-angle-left text"></i>
                                              <i class="fa fa-angle-down text-active"></i>
                                            </span>
                                            <i class="icon-grid icon">
                                            </i>
                                            <span>资源操作</span>
                                        </a>
                                        <ul class="nav dk text-sm">
                                            <li>
                                                <a href="/operation/song" data-bjax class="auto">
                                                    <i class="fa fa-angle-right text-xs"></i>

                                                    <span>音乐</span>
                                                </a>
                                            </li>
                                            <li>
                                                <a href="/operation/mv" data-bjax class="auto">
                                                    <i class="fa fa-angle-right text-xs"></i>

                                                    <span>MV</span>
                                                </a>
                                            </li>
                                            <li>
                                                <a href="/operation/artist" data-bjax class="auto">
                                                    <i class="fa fa-angle-right text-xs"></i>

                                                    <span>歌手</span>
                                                </a>
                                            </li>
                                            <!--<li>-->
                                            <!--<a href="layout-fluid.html" class="auto">-->
                                            <!--<i class="fa fa-angle-right text-xs"></i>-->

                                            <!--<span>歌单</span>-->
                                            <!--</a>-->
                                            <!--</li>-->
                                            <!--<li>-->
                                            <!--<a href="layout-fluid.html" class="auto">-->
                                            <!--<i class="fa fa-angle-right text-xs"></i>-->

                                            <!--<span>榜单</span>-->
                                            <!--</a>-->
                                            <!--</li>-->
                                            <!--<li>-->
                                            <!--<a href="layout-fluid.html" class="auto">-->
                                            <!--<i class="fa fa-angle-right text-xs"></i>-->

                                            <!--<span>用户</span>-->
                                            <!--</a>-->
                                            <!--</li>-->
                                        </ul>
                                    </li>


                                    <li class="m-b hidden-nav-xs"></li>
                                </ul>

                                {foreach from=$currentUser.roleType item=roleType name=foo}
                                {if $roleType eq 3}
                                <ul class="nav" data-ride="collapse">
                                    <li>
                                        <a href="javascript:void(0);" class="auto">
                                            <span class="pull-right text-muted">
                                              <i class="fa fa-angle-left text"></i>
                                              <i class="fa fa-angle-down text-active"></i>
                                            </span>
                                            <i class="icon-key icon">
                                            </i>
                                            <span>权限管理</span>
                                        </a>
                                        <ul class="nav dk text-sm">
                                            <li>
                                                <a href="layout-color.html" class="auto">
                                                    <i class="fa fa-angle-right text-xs"></i>
                                                    <b class="badge bg-primary pull-right">6</b>
                                                    <span>处理申请</span>
                                                </a>
                                            </li>
                                            <li>
                                                <a href="layout-boxed.html" class="auto">
                                                    <i class="fa fa-angle-right text-xs"></i>

                                                    <span>管理员</span>
                                                </a>
                                            </li>
                                        </ul>
                                    </li>
                                    <li class="m-b hidden-nav-xs"></li>
                                </ul>
                                {/if}
                                {/foreach}



                            </nav>
                            <!-- / nav -->
                        </div>
                    </section>
                    <footer class="footer hidden-xs no-padder text-center-nav-xs">
                        <div class="bg hidden-xs ">
                            <div class="dropdown dropup wrapper-sm clearfix">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                                  <span class="thumb-sm avatar pull-left m-l-xs">
                                    <img src="{$currentUser.avatarUrl}" class="dker" alt="...">
                                    <i class="on b-black"></i>
                                  </span>
                                  <span class="hidden-nav-xs clear">
                                    <span class="block m-l">
                                      <strong class="font-bold text-lt">{$currentUser.name}</strong>
                                      <b class="caret"></b>
                                    </span>
                                  </span>
                                </a>
                                <ul class="dropdown-menu animated fadeInRight aside text-left">
                                    <li>
                                        <a href="javascript:void(0);" id="btn_logout">退出</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </footer>

                </section>
            </aside>

            <!--中间内容 content -->
            <section id="parContainer">
                <section class="hbox stretch" id="content">

                    <script>
                        function init(){

                            //所有歌手，表格
                            $('#artist_table').dataTable( {
                                "ajax": {
                                    url: baseUrl + '/api/resource/allArtist',
                                    dataSrc: function (json) {
                                        json.recordsTotal = json.data.total;
                                        json.recordsFiltered = json.data.total;
                                        allData = json.data.rows;
                                        return json.data.rows;
                                    }
                                },
                                "language": {
                                    "emptyTable": "No data available"
                                },
                                "info":false,//左下的提示
                                "lengthChange":false,//不显示设置每页多少的
                                "processing":true,
                                "autoWidth": false,
                                "serverSide": true,
                                "ordering": false,
                                "columns":[
                                    {
                                        "data": null,
                                        "orderable":false,
                                        "render":function ( data, type, full, meta ) {
                                            return '<span class="thumb-md"  >' +
                                                    '<img src='+full.posterUrl+'>'+
                                                    '</span>'+
                                                    '<span class="m-l">' +full.name+
                                                    '</span>';
                                        }
                                    },
                                    {
                                        "data": "albumCount",
                                        "orderable":false,
                                        "render":function ( data, type, full, meta ){
                                            return '专辑: '+data;
                                        }
                                    },
                                    {
                                        "data": "mvCount",
                                        "orderable":false,
                                        "render":function ( data, type, full, meta ){
                                            return 'MV: '+data;
                                        }
                                    },
                                    {
                                        //编辑
                                        "className":'text-center',
                                        "data":null,
                                        "render":function ( data, type, full, meta ){

                                            return "<a data-bjax href='/operation/editArtist/"+full.id+" '>" +
                                                    '<span class="icon icon-settings"></span>'+
                                                    '</a>';
                                        }
                                    },
                                    {
                                        //删除
                                        "className":'text-center',
                                        "data":null,
                                        "render":function ( data, type, full, meta ){

                                            return "<span class='delete_artist click'  data-artist='"+full.id+" '>" +
                                                    '<span class="h3">&times;</span>'+
                                                    '</span>';
                                        }
                                    }


                                ],
                                initComplete : function() {//表格完成时运行函数

                                }

                            } );



                        }
                    </script>
                    <section class="vbox">
                        <header class="header header-md padder-v ">
                            <div class="padder-md">
                                <a href="/operation/addArtist" data-bjax class="btn btn-info">添加歌手</a>
                                <div class="clearfix"></div>
                            </div>
                        </header>
                        <section class="scrollable padder-lg">
                            <table class="table table-striped  table-hover " id="artist_table">
                                <thead>
                                <tr style="display: none;">
                                    <th  style="width:50%"></th>
                                    <th  style="width:15%"></th>
                                    <th  style="width:15%"></th>
                                    <th  style="width:5%"></th>
                                    <th  style="width:5%"></th>
                                </tr>
                                </thead>
                                <tbody>
                                </tbody>
                            </table>

                        </section>

                    </section>


                </section>

                <a href="#" class="hide nav-off-screen-block" data-toggle="class:nav-off-screen,open"
                   data-target="#nav,html"></a>
            </section>

        </section>
    </section>

</section>
<script src="{$baseUrl}/static/scripts/libs/jquery.min.js"></script>

<script type="text/javascript" src="{$baseUrl}/static/scripts/libs/jquery-jtemplates.js"></script>
<!-- Bootstrap -->
<script src="{$baseUrl}/static/scripts/libs/bootstrap.js"></script>
<script src="{$baseUrl}/static/scripts/libs/slimscroll/jquery.slimscroll.min.js"></script>
<!--bootstrap-paginator-->

<script src="{$baseUrl}/static/scripts/libs/bootstrap-paginator/bootstrap-paginator.js"></script>
<!--jplayer-->
<script type="text/javascript" src="{$baseUrl}/static/scripts/libs/jPlayer/jquery.jplayer.min.js"></script>
<script type="text/javascript" src="{$baseUrl}/static/scripts/libs/jPlayer/add-on/jplayer.playlist.min.js"></script>
<!-- datatables -->
<script src="{$baseUrl}/static/scripts/libs/datatables/jquery.dataTables.min.js"></script>
<script src="{$baseUrl}/static/scripts/libs/datatables/dataTables.bootstrap.min.js"></script>
<!--notice-->
<script type="text/javascript" src="{$baseUrl}/static/scripts/libs/notice/notie.js"></script>
<!--template-->
<script type="text/javascript" src="{$baseUrl}/static/scripts/libs/artTemplate/template.js"></script>

<!-- Flot -->
<script src="{$baseUrl}/static/scripts/libs/charts/flot/jquery.flot.min.js"></script>
<script src="{$baseUrl}/static/scripts/libs/charts/flot/jquery.flot.tooltip.min.js"></script>
<script src="{$baseUrl}/static/scripts/libs/charts/flot/jquery.flot.resize.js"></script>
<script src="{$baseUrl}/static/scripts/libs/charts/flot/jquery.flot.orderBars.js"></script>
<script src="{$baseUrl}/static/scripts/libs/charts/flot/jquery.flot.pie.min.js"></script>
<script src="{$baseUrl}/static/scripts/libs/charts/flot/jquery.flot.grow.js"></script>
<script src="{$baseUrl}/static/scripts/libs/charts/flot/jquery.flot.time.js"></script>

<!--上传插件-->
<script type="text/javascript" src="{$baseUrl}/static/scripts/libs/uploadify/jquery.uploadify.min.js"></script>
<!--图片裁剪-->
<script type="text/javascript" src="{$baseUrl}/static/scripts/libs/cropper/cropper.min.js"></script>
<!-- App -->
<script src="{$baseUrl}/static/scripts/common/app.js"></script>
<script src="{$baseUrl}/static/scripts/common/app.plugin.js"></script>

<script type="text/javascript" src="{$baseUrl}/static/scripts/libs/jPlayer/my_player.js"></script>

<script type="text/javascript" src="{$baseUrl}/static/scripts/common/common.js"></script>
<script type="text/javascript" src="{$baseUrl}/static/scripts/app/dao/dao.js"></script>
<script type="text/javascript" src="{$baseUrl}/static/scripts/app/service/server.js"></script>
<script>
    init();
</script>


</body>
</html>